{% extends "layout.html" %}
{% block title %}Your Profile | SkillSwap{% endblock %}
{% block content %}
<h1 style="font-size: 2rem; margin-bottom: 1.5rem;">Your Profile</h1>
<div class="card wide" style="padding: 2.5rem; box-shadow: 0 3px 10px rgba(0,0,0,0.1); border-radius: 12px; background: #fff; max-width: 900px; margin: 0 auto;">
    <div style="display: flex; flex-wrap: wrap; gap: 2.5rem; align-items: flex-start;">
        <div style="flex-shrink: 0; display: flex; flex-direction: column; align-items: center;">
            {% if user.profile_picture %}
                <img src="{{ user.profile_picture }}" alt="Profile Picture" width="140" height="140" style="border-radius: 12px; object-fit: cover; box-shadow: 0 2px 8px rgba(0,0,0,0.15); border: 2px solid #f5f5f5;">
            {% else %}
                <div style="width: 140px; height: 140px; background-color: #e9ecef; border-radius: 12px; display: flex; align-items: center; justify-content: center; font-size: 15px; color: #6c757d; box-shadow: 0 2px 8px rgba(0,0,0,0.1); border: 2px solid #f5f5f5;">
                    <span>No Image</span>
                </div>
            {% endif %}
            <div style="margin-top: 1rem; text-align: center; font-size: 0.9rem; color: #6c757d;">
                <span>Update your photo below</span>
            </div>
        </div>
        <form method="POST" enctype="multipart/form-data" style="flex: 1; min-width: 280px;">
            <div style="margin-bottom: 1.25rem;">
                <label style="font-weight: 600; display: block; margin-bottom: 0.5rem; color: #444;">Username</label>
                <input type="text" name="username" value="{{ user.username }}" required style="width: 100%; padding: 0.8rem; border: 1px solid #ced4da; border-radius: 8px; font-size: 1rem; transition: border-color 0.2s ease;">
            </div>
            <div style="margin-bottom: 1.25rem;">
                <label style="font-weight: 600; display: block; margin-bottom: 0.5rem; color: #444;">Email</label>
                <input type="email" name="email" value="{{ user.email }}" required style="width: 100%; padding: 0.8rem; border: 1px solid #ced4da; border-radius: 8px; font-size: 1rem; transition: border-color 0.2s ease;">
            </div>
            <div style="margin-bottom: 1.25rem;">
                <label style="font-weight: 600; display: block; margin-bottom: 0.5rem; color: #444;">Bio</label>
                <textarea name="bio" rows="4" style="width: 100%; padding: 0.8rem; border: 1px solid #ced4da; border-radius: 8px; font-size: 1rem; transition: border-color 0.2s ease; resize: vertical;">{{ user.bio }}</textarea>
            </div>
            <div style="margin-bottom: 2rem;">
                <label style="font-weight: 600; display: block; margin-bottom: 0.5rem; color: #444;">Profile Picture</label>
                <input type="file" name="profile_picture" style="border: 1px solid #ced4da; padding: 0.6rem; border-radius: 8px; width: 100%; background-color: #f8f9fa;">
            </div>
            <button type="submit" class="btn" style="padding: 0.8rem 2rem; background-color: #007bff; color: #fff; border: none; border-radius: 8px; cursor: pointer; font-weight: 600; transition: background-color 0.2s ease; box-shadow: 0 2px 4px rgba(0,123,255,0.2);">Save Changes</button>
        </form>
    </div>
</div>

<style>
    input[type="text"]:focus, 
    input[type="email"]:focus, 
    textarea:focus {
        outline: none;
        border-color: #007bff !important;
        box-shadow: 0 0 0 3px rgba(0,123,255,0.1);
    }
    
    .btn:hover {
        background-color: #0069d9 !important;
    }
    
    @media (max-width: 650px) {
        .card.wide {
            padding: 1.5rem !important;
        }
        div[style*="display: flex; flex-wrap: wrap"] {
            flex-direction: column;
            align-items: center;
        }
        form[style*="flex: 1"] {
            width: 100%;
        }
    }
</style>
{% endblock %}